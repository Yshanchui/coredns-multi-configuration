// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.977
package templates

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func DashboardPage() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div class=\"header\"><div class=\"logo\">ğŸŒ CoreDNS Manager</div><div style=\"display: flex; gap: 1rem; align-items: center;\"><button class=\"btn btn-primary\" onclick=\"showAddClusterModal()\">â• æ·»åŠ é›†ç¾¤</button> <a href=\"/logout\" class=\"btn btn-secondary\">é€€å‡ºç™»å½•</a></div></div><div class=\"container\"><h2 style=\"margin-bottom: 1.5rem;\">é›†ç¾¤åˆ—è¡¨</h2><div id=\"clusters-container\" class=\"grid grid-cols-2\"><div style=\"text-align: center; padding: 3rem; color: var(--text-secondary);\"><span class=\"loading\" style=\"width: 2rem; height: 2rem;\"></span><p style=\"margin-top: 1rem;\">åŠ è½½é›†ç¾¤åˆ—è¡¨...</p></div></div></div><!-- Add Cluster Modal --> <div id=\"add-cluster-modal\" class=\"modal\" style=\"display: none;\"><div class=\"modal-content\"><div class=\"modal-header\"><h3 class=\"modal-title\">æ·»åŠ æ–°é›†ç¾¤</h3><button class=\"close-btn\" onclick=\"hideAddClusterModal()\">&times;</button></div><div id=\"add-cluster-error\"></div><form id=\"add-cluster-form\" onsubmit=\"handleAddCluster(event)\"><div class=\"form-group\"><label class=\"form-label\" for=\"cluster-name\">é›†ç¾¤åç§°</label> <input type=\"text\" id=\"cluster-name\" class=\"form-input\" required placeholder=\"ä¾‹å¦‚: production-cluster\"></div><div class=\"form-group\"><label class=\"form-label\" for=\"cluster-kubeconfig\">Kubeconfig</label> <textarea id=\"cluster-kubeconfig\" class=\"form-textarea\" required placeholder=\"ç²˜è´´ kubeconfig å†…å®¹...\"></textarea></div><div style=\"display: flex; gap: 1rem; justify-content: flex-end;\"><button type=\"button\" class=\"btn btn-secondary\" onclick=\"hideAddClusterModal()\">å–æ¶ˆ</button> <button type=\"submit\" class=\"btn btn-primary\" id=\"add-cluster-btn\"><span id=\"add-cluster-text\">æ·»åŠ é›†ç¾¤</span> <span id=\"add-cluster-loading\" class=\"loading\" style=\"display: none;\"></span></button></div></form></div></div><!-- CoreDNS Config Modal --> <div id=\"coredns-modal\" class=\"modal\" style=\"display: none;\"><div class=\"modal-content\" style=\"max-width: 900px;\"><div class=\"modal-header\"><h3 class=\"modal-title\" id=\"coredns-modal-title\">CoreDNS é…ç½®</h3><button class=\"close-btn\" onclick=\"hideCoreDNSModal()\">&times;</button></div><div id=\"coredns-content\"><div style=\"text-align: center; padding: 2rem;\"><span class=\"loading\" style=\"width: 2rem; height: 2rem;\"></span></div></div></div></div>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = DashboardScript().Render(ctx, templ_7745c5c3_Buffer)
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = Layout("é›†ç¾¤ç®¡ç†").Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func DashboardScript() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var3 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var3 == nil {
			templ_7745c5c3_Var3 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "<script>\n\t\tlet currentClusterId = null;\n\t\t\n\t\tdocument.addEventListener('DOMContentLoaded', loadClusters);\n\t\t\n\t\tasync function loadClusters() {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch('/api/clusters');\n\t\t\t\tif (!response.ok) throw new Error('Failed to load clusters');\n\t\t\t\tconst clusters = await response.json();\n\t\t\t\trenderClusters(clusters);\n\t\t\t} catch (error) {\n\t\t\t\tdocument.getElementById('clusters-container').innerHTML = \n\t\t\t\t\t'<div class=\"alert alert-error\">åŠ è½½é›†ç¾¤åˆ—è¡¨å¤±è´¥: ' + error.message + '</div>';\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction renderClusters(clusters) {\n\t\t\tconst container = document.getElementById('clusters-container');\n\t\t\t\n\t\t\tif (clusters.length === 0) {\n\t\t\t\tcontainer.innerHTML = '<div style=\"text-align: center; padding: 3rem; color: var(--text-secondary); grid-column: 1/-1;\">' +\n\t\t\t\t\t'<p style=\"font-size: 3rem; margin-bottom: 1rem;\">ğŸ“­</p>' +\n\t\t\t\t\t'<p>æš‚æ— é›†ç¾¤ï¼Œç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ·»åŠ </p></div>';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tlet html = '';\n\t\t\tfor (let i = 0; i < clusters.length; i++) {\n\t\t\t\tconst cluster = clusters[i];\n\t\t\t\tconst statusClass = cluster.connected ? 'badge-success' : 'badge-danger';\n\t\t\t\tconst statusText = cluster.connected ? 'âœ“ å·²è¿æ¥' : 'âœ— æœªè¿æ¥';\n\t\t\t\tconst errorHtml = cluster.error ? '<p style=\"color: var(--danger);\">é”™è¯¯: ' + cluster.error + '</p>' : '';\n\t\t\t\t\n\t\t\t\thtml += '<div class=\"card cluster-card\" onclick=\"showCoreDNSConfig(\\'' + cluster.id + '\\', \\'' + cluster.name + '\\')\">' +\n\t\t\t\t\t'<div class=\"cluster-header\">' +\n\t\t\t\t\t'<span class=\"cluster-name\">' + cluster.name + '</span>' +\n\t\t\t\t\t'<span class=\"badge ' + statusClass + '\">' + statusText + '</span>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t'<div class=\"cluster-info\">' +\n\t\t\t\t\t'<p>ID: ' + cluster.id.substring(0, 8) + '...</p>' +\n\t\t\t\t\t'<p>æ·»åŠ æ—¶é—´: ' + new Date(cluster.created_at).toLocaleString('zh-CN') + '</p>' +\n\t\t\t\t\terrorHtml +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t'<div style=\"margin-top: 1rem; display: flex; gap: 0.5rem;\">' +\n\t\t\t\t\t'<button class=\"btn btn-secondary\" onclick=\"event.stopPropagation(); showCoreDNSConfig(\\'' + cluster.id + '\\', \\'' + cluster.name + '\\')\">æŸ¥çœ‹ CoreDNS</button>' +\n\t\t\t\t\t'<button class=\"btn btn-danger\" onclick=\"event.stopPropagation(); deleteCluster(\\'' + cluster.id + '\\', \\'' + cluster.name + '\\')\">åˆ é™¤</button>' +\n\t\t\t\t\t'</div></div>';\n\t\t\t}\n\t\t\tcontainer.innerHTML = html;\n\t\t}\n\t\t\n\t\tfunction showAddClusterModal() {\n\t\t\tdocument.getElementById('add-cluster-modal').style.display = 'flex';\n\t\t\tdocument.getElementById('add-cluster-form').reset();\n\t\t\tdocument.getElementById('add-cluster-error').innerHTML = '';\n\t\t}\n\t\t\n\t\tfunction hideAddClusterModal() {\n\t\t\tdocument.getElementById('add-cluster-modal').style.display = 'none';\n\t\t}\n\t\t\n\t\tasync function handleAddCluster(event) {\n\t\t\tevent.preventDefault();\n\t\t\t\n\t\t\tconst btn = document.getElementById('add-cluster-btn');\n\t\t\tconst text = document.getElementById('add-cluster-text');\n\t\t\tconst loading = document.getElementById('add-cluster-loading');\n\t\t\tconst errorDiv = document.getElementById('add-cluster-error');\n\t\t\t\n\t\t\tbtn.disabled = true;\n\t\t\ttext.style.display = 'none';\n\t\t\tloading.style.display = 'inline-block';\n\t\t\t\n\t\t\tconst name = document.getElementById('cluster-name').value;\n\t\t\tconst kubeconfig = document.getElementById('cluster-kubeconfig').value;\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst response = await fetch('/api/clusters', {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\t\tbody: JSON.stringify({ name, kubeconfig }),\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tconst data = await response.json();\n\t\t\t\t\n\t\t\t\tif (response.ok) {\n\t\t\t\t\thideAddClusterModal();\n\t\t\t\t\tloadClusters();\n\t\t\t\t} else {\n\t\t\t\t\terrorDiv.innerHTML = '<div class=\"alert alert-error\">' + (data.error || 'æ·»åŠ å¤±è´¥') + '</div>';\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\terrorDiv.innerHTML = '<div class=\"alert alert-error\">ç½‘ç»œé”™è¯¯</div>';\n\t\t\t} finally {\n\t\t\t\tbtn.disabled = false;\n\t\t\t\ttext.style.display = 'inline';\n\t\t\t\tloading.style.display = 'none';\n\t\t\t}\n\t\t}\n\t\t\n\t\tasync function deleteCluster(id, name) {\n\t\t\tif (!confirm('ç¡®å®šè¦åˆ é™¤é›†ç¾¤ \"' + name + '\" å—ï¼Ÿ')) return;\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst response = await fetch('/api/clusters/' + id, { method: 'DELETE' });\n\t\t\t\tif (response.ok) {\n\t\t\t\t\tloadClusters();\n\t\t\t\t} else {\n\t\t\t\t\tconst data = await response.json();\n\t\t\t\t\talert('åˆ é™¤å¤±è´¥: ' + (data.error || 'æœªçŸ¥é”™è¯¯'));\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\talert('ç½‘ç»œé”™è¯¯');\n\t\t\t}\n\t\t}\n\t\t\n\t\tasync function showCoreDNSConfig(clusterId, clusterName) {\n\t\t\tcurrentClusterId = clusterId;\n\t\t\tdocument.getElementById('coredns-modal').style.display = 'flex';\n\t\t\tdocument.getElementById('coredns-modal-title').textContent = clusterName + ' - CoreDNS é…ç½®';\n\t\t\tdocument.getElementById('coredns-content').innerHTML = \n\t\t\t\t'<div style=\"text-align: center; padding: 2rem;\">' +\n\t\t\t\t'<span class=\"loading\" style=\"width: 2rem; height: 2rem;\"></span>' +\n\t\t\t\t'<p style=\"margin-top: 1rem; color: var(--text-secondary);\">åŠ è½½é…ç½®...</p></div>';\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst response = await fetch('/api/clusters/' + clusterId + '/coredns');\n\t\t\t\tif (!response.ok) throw new Error('Failed to load CoreDNS config');\n\t\t\t\tconst data = await response.json();\n\t\t\t\trenderCoreDNSConfig(data);\n\t\t\t} catch (error) {\n\t\t\t\tdocument.getElementById('coredns-content').innerHTML = \n\t\t\t\t\t'<div class=\"alert alert-error\">åŠ è½½å¤±è´¥: ' + error.message + '</div>';\n\t\t\t}\n\t\t}\n\t\t\n\t\tfunction hideCoreDNSModal() {\n\t\t\tdocument.getElementById('coredns-modal').style.display = 'none';\n\t\t\tcurrentClusterId = null;\n\t\t}\n\t\t\n\t\tfunction renderCoreDNSConfig(data) {\n\t\t\tconst serviceName = (data.service && data.service.metadata && data.service.metadata.name) || 'kube-dns';\n\t\t\tconst configMapName = (data.configmap && data.configmap.metadata && data.configmap.metadata.name) || 'coredns';\n\t\t\tconst serviceIP = data.service_ip || 'N/A';\n\t\t\tconst corefile = data.corefile || '';\n\t\t\tconst rules = data.forward_rules || [];\n\t\t\t\n\t\t\tlet rulesHtml = '';\n\t\t\tif (rules.length === 0) {\n\t\t\t\trulesHtml = '<p style=\"color: var(--text-secondary); text-align: center; padding: 2rem;\">æš‚æ— è½¬å‘è§„åˆ™</p>';\n\t\t\t} else {\n\t\t\t\tfor (let i = 0; i < rules.length; i++) {\n\t\t\t\t\tconst rule = rules[i];\n\t\t\t\t\t// Build full name: service.namespace or just namespace\n\t\t\t\t\tconst fullName = rule.service_name ? rule.service_name + '.' + rule.namespace : rule.namespace;\n\t\t\t\t\t// Display domain: FQDN format shows .svc.cluster.local, short format shows just fullName\n\t\t\t\t\tconst displayDomain = rule.is_full_fqdn ? fullName + '.svc.cluster.local:53' : fullName + ':53';\n\t\t\t\t\trulesHtml += '<div class=\"rule-item\">' +\n\t\t\t\t\t\t'<div><span class=\"rule-domain\">' + displayDomain + '</span>' +\n\t\t\t\t\t\t'<span style=\"margin: 0 0.5rem;\">â†’</span>' +\n\t\t\t\t\t\t'<span class=\"rule-target\">' + rule.target_ip + '</span></div>' +\n\t\t\t\t\t\t'<button class=\"btn btn-danger\" style=\"padding: 0.5rem 1rem;\" onclick=\"deleteForwardRule(\\'' + fullName + '\\', ' + (rule.is_full_fqdn ? 'true' : 'false') + ')\">åˆ é™¤</button></div>';\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tdocument.getElementById('coredns-content').innerHTML = \n\t\t\t\t'<div class=\"service-info\">' +\n\t\t\t\t'<div class=\"info-card\"><div class=\"info-label\">Service Name</div><div class=\"info-value\">' + serviceName + '</div></div>' +\n\t\t\t\t'<div class=\"info-card\"><div class=\"info-label\">Cluster IP</div><div class=\"info-value\">' + serviceIP + '</div></div>' +\n\t\t\t\t'<div class=\"info-card\"><div class=\"info-label\">ConfigMap</div><div class=\"info-value\">' + configMapName + '</div></div>' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<div class=\"tabs\">' +\n\t\t\t\t'<button class=\"tab active\" onclick=\"switchTab(\\'rules\\', this)\">è½¬å‘è§„åˆ™</button>' +\n\t\t\t\t'<button class=\"tab\" onclick=\"switchTab(\\'corefile\\', this)\">Corefile</button>' +\n\t\t\t\t'</div>' +\n\t\t\t\t'<div id=\"tab-rules\">' +\n\t\t\t\t'<div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;\">' +\n\t\t\t\t'<h4>å·²é…ç½®çš„è½¬å‘è§„åˆ™</h4>' +\n\t\t\t\t'<button class=\"btn btn-primary\" onclick=\"showAddRuleForm()\">â• æ·»åŠ è§„åˆ™</button></div>' +\n\t\t\t\t'<div id=\"add-rule-form\" style=\"display: none; margin-bottom: 1rem;\">' +\n\t\t\t'\t<div class=\"card\" style=\"padding: 1rem;\">' +\n\t\t\t\t'<div style=\"display: flex; gap: 1rem; align-items: flex-end;\">' +\n\t\t\t\t'<div class=\"form-group\" style=\"flex: 1; margin-bottom: 0;\"><label class=\"form-label\">åç§°</label>' +\n\t\t\t\t'<input type=\"text\" id=\"rule-namespace\" class=\"form-input\" placeholder=\"prod / mysql.tidb-cluster / prod.svc.cluster.local\"/></div>' +\n\t\t\t\t'<div class=\"form-group\" style=\"flex: 1; margin-bottom: 0;\"><label class=\"form-label\">ç›®æ ‡ DNS IP</label>' +\n\t\t\t\t'<input type=\"text\" id=\"rule-target-ip\" class=\"form-input\" placeholder=\"ä¾‹å¦‚: 10.96.0.10\"/></div>' +\n\t\t\t\t'<button class=\"btn btn-primary\" onclick=\"addForwardRule()\">æ·»åŠ </button>' +\n\t\t\t\t'<button class=\"btn btn-secondary\" onclick=\"hideAddRuleForm()\">å–æ¶ˆ</button></div>' +\n\t\t\t\t'<p style=\"font-size: 0.8rem; color: var(--text-secondary); margin-top: 0.5rem;\">çŸ­æ ¼å¼(prod/mysql.tidb-cluster)è‡ªåŠ¨æ·»åŠ rewriteï¼Œå®Œæ•´æ ¼å¼(*.svc.cluster.local)åªforward</p>' +\n\t\t\t\t'</div></div>' +\n\t\t\t\t'<div class=\"rules-list\" id=\"rules-list\">' + rulesHtml + '</div></div>' +\n\t\t\t\t'<div id=\"tab-corefile\" style=\"display: none;\">' +\n\t\t\t\t'<div style=\"display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;\">' +\n\t\t\t\t'<h4>Corefile å†…å®¹</h4>' +\n\t\t\t\t'<button class=\"btn btn-primary\" onclick=\"saveCorefile()\" id=\"save-corefile-btn\">ä¿å­˜ä¿®æ”¹</button></div>' +\n\t\t\t\t'<textarea id=\"corefile-editor\" class=\"form-textarea\" style=\"min-height: 400px; font-size: 0.9rem;\">' + escapeHtml(corefile) + '</textarea></div>';\n\t\t}\n\t\t\n\t\tfunction escapeHtml(text) {\n\t\t\tconst div = document.createElement('div');\n\t\t\tdiv.textContent = text;\n\t\t\treturn div.innerHTML;\n\t\t}\n\t\t\n\t\tfunction switchTab(tabName, element) {\n\t\t\tdocument.querySelectorAll('.tab').forEach(function(t) { t.classList.remove('active'); });\n\t\t\telement.classList.add('active');\n\t\t\tdocument.getElementById('tab-rules').style.display = tabName === 'rules' ? 'block' : 'none';\n\t\t\tdocument.getElementById('tab-corefile').style.display = tabName === 'corefile' ? 'block' : 'none';\n\t\t}\n\t\t\n\t\tfunction showAddRuleForm() {\n\t\t\tdocument.getElementById('add-rule-form').style.display = 'block';\n\t\t}\n\t\t\n\t\tfunction hideAddRuleForm() {\n\t\t\tdocument.getElementById('add-rule-form').style.display = 'none';\n\t\t}\n\t\t\n\t\tasync function addForwardRule() {\n\t\t\tconst namespace = document.getElementById('rule-namespace').value.trim();\n\t\t\tconst targetIP = document.getElementById('rule-target-ip').value.trim();\n\t\t\t\n\t\t\tif (!namespace || !targetIP) {\n\t\t\t\talert('è¯·å¡«å†™å®Œæ•´ä¿¡æ¯');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst response = await fetch('/api/clusters/' + currentClusterId + '/rules', {\n\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\t\tbody: JSON.stringify({ namespace: namespace, target_ip: targetIP }),\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (response.ok) {\n\t\t\t\t\tconst title = document.getElementById('coredns-modal-title').textContent;\n\t\t\t\t\tshowCoreDNSConfig(currentClusterId, title.split(' - ')[0]);\n\t\t\t\t} else {\n\t\t\t\t\tconst data = await response.json();\n\t\t\t\t\talert('æ·»åŠ å¤±è´¥: ' + (data.error || 'æœªçŸ¥é”™è¯¯'));\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\talert('ç½‘ç»œé”™è¯¯');\n\t\t\t}\n\t\t}\n\t\t\n\t\tasync function deleteForwardRule(name, isFullFQDN) {\n\t\t\tconst displayName = isFullFQDN ? name + '.svc.cluster.local' : name;\n\t\t\tif (!confirm('ç¡®å®šè¦åˆ é™¤ ' + displayName + ' çš„è½¬å‘è§„åˆ™å—ï¼Ÿ')) return;\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst encodedName = encodeURIComponent(name);\n\t\t\t\tconst response = await fetch('/api/clusters/' + currentClusterId + '/rules/' + encodedName + '?fqdn=' + isFullFQDN, {\n\t\t\t\t\tmethod: 'DELETE',\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (response.ok) {\n\t\t\t\t\tconst title = document.getElementById('coredns-modal-title').textContent;\n\t\t\t\t\tshowCoreDNSConfig(currentClusterId, title.split(' - ')[0]);\n\t\t\t\t} else {\n\t\t\t\t\tconst data = await response.json();\n\t\t\t\t\talert('åˆ é™¤å¤±è´¥: ' + (data.error || 'æœªçŸ¥é”™è¯¯'));\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\talert('ç½‘ç»œé”™è¯¯');\n\t\t\t}\n\t\t}\n\t\t\n\t\tasync function saveCorefile() {\n\t\t\tconst corefile = document.getElementById('corefile-editor').value;\n\t\t\tconst btn = document.getElementById('save-corefile-btn');\n\t\t\t\n\t\t\tbtn.disabled = true;\n\t\t\tbtn.textContent = 'ä¿å­˜ä¸­...';\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst response = await fetch('/api/clusters/' + currentClusterId + '/coredns', {\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\theaders: { 'Content-Type': 'application/json' },\n\t\t\t\t\tbody: JSON.stringify({ corefile: corefile }),\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tif (response.ok) {\n\t\t\t\t\talert('ä¿å­˜æˆåŠŸï¼CoreDNS é…ç½®å·²æ›´æ–°ã€‚');\n\t\t\t\t} else {\n\t\t\t\t\tconst data = await response.json();\n\t\t\t\t\talert('ä¿å­˜å¤±è´¥: ' + (data.error || 'æœªçŸ¥é”™è¯¯'));\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\talert('ç½‘ç»œé”™è¯¯');\n\t\t\t} finally {\n\t\t\t\tbtn.disabled = false;\n\t\t\t\tbtn.textContent = 'ä¿å­˜ä¿®æ”¹';\n\t\t\t}\n\t\t}\n\t</script>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
