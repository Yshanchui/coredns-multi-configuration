// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.977
package templates

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func LoginPage() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Var2 := templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
			templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
			templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
			if !templ_7745c5c3_IsBuffer {
				defer func() {
					templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
					if templ_7745c5c3_Err == nil {
						templ_7745c5c3_Err = templ_7745c5c3_BufErr
					}
				}()
			}
			ctx = templ.InitializeContext(ctx)
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div style=\"display: flex; align-items: center; justify-content: center; min-height: 100vh;\"><div class=\"card\" style=\"width: 100%; max-width: 420px;\"><div style=\"text-align: center; margin-bottom: 2rem;\"><div class=\"logo\" style=\"font-size: 2rem; margin-bottom: 0.5rem;\">ğŸŒ CoreDNS Manager</div><p style=\"color: var(--text-secondary);\">å¤šé›†ç¾¤ CoreDNS é…ç½®ç®¡ç†</p></div><div id=\"login-error\"></div><form id=\"login-form\" onsubmit=\"handleLogin(event)\"><div class=\"form-group\"><label class=\"form-label\" for=\"username\">ç”¨æˆ·å</label> <input type=\"text\" id=\"username\" name=\"username\" class=\"form-input\" required placeholder=\"è¯·è¾“å…¥ç”¨æˆ·å\"></div><div class=\"form-group\"><label class=\"form-label\" for=\"password\">å¯†ç </label> <input type=\"password\" id=\"password\" name=\"password\" class=\"form-input\" required placeholder=\"è¯·è¾“å…¥å¯†ç \"></div><button type=\"submit\" class=\"btn btn-primary\" style=\"width: 100%; margin-top: 1rem; justify-content: center;\" id=\"login-btn\"><span id=\"login-text\">ç™»å½•</span> <span id=\"login-loading\" class=\"loading\" style=\"display: none;\"></span></button></form></div></div><script>\n\t\t\tasync function handleLogin(event) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\t\n\t\t\t\tconst btn = document.getElementById('login-btn');\n\t\t\t\tconst text = document.getElementById('login-text');\n\t\t\t\tconst loading = document.getElementById('login-loading');\n\t\t\t\tconst errorDiv = document.getElementById('login-error');\n\t\t\t\t\n\t\t\t\tbtn.disabled = true;\n\t\t\t\ttext.style.display = 'none';\n\t\t\t\tloading.style.display = 'inline-block';\n\t\t\t\terrorDiv.innerHTML = '';\n\t\t\t\t\n\t\t\t\tconst username = document.getElementById('username').value;\n\t\t\t\tconst password = document.getElementById('password').value;\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch('/api/login', {\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify({ username, password }),\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tconst data = await response.json();\n\t\t\t\t\t\n\t\t\t\t\tif (response.ok) {\n\t\t\t\t\t\twindow.location.href = '/';\n\t\t\t\t\t} else {\n\t\t\t\t\t\terrorDiv.innerHTML = '<div class=\"alert alert-error\">' + (data.error || 'ç™»å½•å¤±è´¥') + '</div>';\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\terrorDiv.innerHTML = '<div class=\"alert alert-error\">ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•</div>';\n\t\t\t\t} finally {\n\t\t\t\t\tbtn.disabled = false;\n\t\t\t\t\ttext.style.display = 'inline';\n\t\t\t\t\tloading.style.display = 'none';\n\t\t\t\t}\n\t\t\t}\n\t\t</script>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			return nil
		})
		templ_7745c5c3_Err = Layout("ç™»å½•").Render(templ.WithChildren(ctx, templ_7745c5c3_Var2), templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
